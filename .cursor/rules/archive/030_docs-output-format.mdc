---
description: "Stable structured outputs for documentation cleanup tasks."
globs: "*.md,*.mdx"
alwaysApply: false
---

# Documentation Task Output Format (Always)

## Required Structure

Every documentation-related response MUST include these 6 sections:

### 1. Status
- Current phase (Phase X of Y)
- Completion percentage
- Blockers (if any)

**Example**:
```
Status: Phase 2 complete (60%)
Blockers: Awaiting approval for Phase 3
```

### 2. Inspected Paths/Files
- List of files/directories analyzed
- Total file count
- Relevant categories

**Example**:
```
Inspected:
- 259 files total (.md, .mdx, .mdc)
- docs/ (95 files)
- .cursor/planing/ (46 files)
- content/ (34 files)
```

### 3. Findings
- Bullet list of discoveries
- Duplicates detected
- Issues found
- Patterns observed

**Example**:
```
Findings:
- 15+ duplicate clusters (constitution, titan protocol, etc.)
- 10+ legacy files with "Legacy_" prefix
- 7 orphan analysis documents
- 4 contradictions requiring resolution
```

### 4. Proposed Actions
- Bullet list of recommended changes
- Organized by priority
- Clear action verbs

**Example**:
```
Proposed actions:
- Archive legacy files to .cursor/archive/legacy/
- Deduplicate governance docs (keep canonical in content/)
- Rename .cursor/planing/ ‚Üí .cursor/work/
- Update all internal links
```

### 5. Risks & Contradictions
- Known issues
- Risk assessment (LOW/MEDIUM/HIGH)
- Blocked items
- Mitigation strategies

**Example**:
```
Risks:
- üü¢ LOW: File moves (reversible via git)
- ‚ö†Ô∏è MEDIUM: Directory rename (affects references)

Contradictions:
- C-0001: Doc storage location conflict (HIGH, blocks migration)
- C-0004: Root file count exceeds governance (LOW)
```

### 6. Next Approval Gate
- One-line question for stakeholder
- Clear decision needed
- Expected response format

**Example**:
```
Next approval gate:
Should I proceed with Phase 3 (Staged Moves + Link Updates)?
[YES / NO / MODIFY]
```

---

## Output Template

```markdown
## Status

[Phase X of Y] [% complete]
[Blockers: ... or none]

---

## Inspected Paths/Files

- [Total files]
- [Directory 1] ([count] files)
- [Directory 2] ([count] files)
- ...

---

## Findings

- [Discovery 1]
- [Discovery 2]
- [Discovery 3]
- ...

---

## Proposed Actions

1. [Action 1] (priority)
2. [Action 2] (priority)
3. [Action 3] (priority)
...

---

## Risks & Contradictions

**Risks**:
- üü¢ LOW: [...]
- ‚ö†Ô∏è MEDIUM: [...]
- üî¥ HIGH: [...]

**Contradictions**:
- C-XXXX: [Issue] ([severity])
...

---

## Next Approval Gate

[One-line question requiring decision]
```

---

## Additional Guidelines

### Consistency
- Use same terminology across messages
- Reference decision IDs (D-XXXX) consistently
- Reference contradiction IDs (C-XXXX) consistently
- Maintain file path formats (use absolute paths)

### Clarity
- Use clear action verbs (Create, Move, Archive, Update, Validate)
- Specify quantities (15+ duplicates, not "many duplicates")
- Use risk emoji (üü¢ LOW, ‚ö†Ô∏è MEDIUM, üî¥ HIGH)
- Include links to control files when relevant

### Traceability
- Every action should reference a decision (D-XXXX)
- Every contradiction should be logged (C-XXXX)
- Every file move should have old ‚Üí new mapping
- Every approval gate should be clear yes/no/modify

---

## Control Files Reference

Always include relevant control file references:

| File | Purpose | When to Reference |
|------|---------|-------------------|
| docs/_system/INVENTORY.md | File census | Findings section |
| docs/_system/CONTRADICTIONS.md | Conflict tracking | Risks section |
| docs/_system/DECISIONS.md | Decision ledger | Proposed actions |
| docs/_system/TAXONOMY.md | Canonical structure | Directory questions |
| docs/_system/MIGRATION_PLAN.md | Execution plan | Phase transitions |

---

**Reference**: docs/_system/STATUS_REPORT.md (example)
**Authority**: Master prompt requirement (output format section)
