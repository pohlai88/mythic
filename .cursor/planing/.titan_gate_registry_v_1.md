# Titan Gate Registry v1.0 + CI Checklist Pack

**Status:** Operational Pack (Derived)
**Derived From:** Titan Protocol v1.0 (Ratified)
**Purpose:** Provide a single, canonical registry of Titan Gate IDs and a drop-in CI/PR checklist format.

---

## 1. Titan Gate Registry v1.0 (Canonical)

**Registry Rules**
- Gate IDs are immutable.
- Gates may be extended only by additive entries (new Gate IDs) via Amendment.
- Every gate MUST reference exactly one primary Constitution Clause.

**Legend**
- **Type:** LINT / CI / RUNTIME / AUDIT
- **Severity:** VETO-HARD / VETO-SOFT / WARN

| Gate ID | Clause ID | Type | Severity | Gate Intent (One Line) | Typical Evidence (What Titan Checks) | Primary Owner | Stage |
|---|---|---|---|---|---|---|---|
| TITAN-LINT-I01 | I.1 | LINT | VETO-SOFT | Prevent throughput-only features without decision context | PRD/Spec has Decision Context fields (intent/rationale) | AXIS + Titan | PR/Commit |
| TITAN-CI-I02 | I.2 | CI | VETO-HARD | High-impact actions require judgment capture | High-impact annotations require Decision Memory payload schema | Titan | CI |
| TITAN-CI-II01 | II.1 | CI | VETO-HARD | Workflow must cite accounting primitive | PRD/Spec contains Accounting Truth Citation | AXIS + Titan | CI |
| TITAN-LINT-II02 | II.2 | LINT | VETO-HARD | Block invented workflows (feature-first) | Missing Accounting Truth Citation in new workflow docs | Titan | PR/Commit |
| TITAN-RUNTIME-II03 | II.3 | RUNTIME | VETO-HARD | Compliance posture varies friction, never truth | Posture flag cannot modify accounting invariants | Titan | Runtime |
| TITAN-CI-III01 | III.1 | CI | VETO-HARD | Enforce atomic commit contract | Transaction boundary declared + provenance present | Titan | CI |
| TITAN-AUDIT-III01 | III.1 | AUDIT | VETO-HARD | Detect orphan intents/facts (partial commits) | Periodic scan for missing provenance/linkage | Titan | Post-Deploy |
| TITAN-RUNTIME-III02 | III.2 | RUNTIME | VETO-HARD | Enforce single authoritative representation | Writes to prohibited authoritative stores blocked | Titan | Runtime |
| TITAN-LINT-IV01 | IV.1 | LINT | VETO-HARD | Prevent microservice reintroduction (core) | Disallow HTTP/RPC clients in core write-path packages | Titan | PR/Commit |
| TITAN-LINT-IV02 | IV.2 | LINT | VETO-HARD | No network hop in authoritative write path | Static analysis flags network calls in write-path modules | Titan | PR/Commit |
| TITAN-CI-IV03 | IV.3 | CI | VETO-HARD | No second authoritative store for same truth | Schema registry blocks duplicate authoritative truth | Titan | CI |
| TITAN-LINT-IV04 | IV.4 | LINT | VETO-HARD | Enforce hard domain boundaries | Import graph rules + direct table access restrictions | Titan | PR/Commit |
| TITAN-CI-V01 | V.1 | CI | VETO-HARD | Decision Memory required for significant transactions | Significant transaction types must include DM schema | Titan | CI |
| TITAN-CI-V02 | V.2 | CI | VETO-HARD | Audit requires reasoning context | Audit event schema includes actor/intent/rationale/context | Titan | CI |
| TITAN-AUDIT-V02 | V.2 | AUDIT | WARN→VETO | Detect audit completeness decay | Audit completeness score trends + escalation thresholds | Titan | Post-Deploy |
| TITAN-RUNTIME-VI01 | VI.1 | RUNTIME | VETO-HARD | Policies may not hard-stop legitimate actions | Hard-block only allowed for physical impossibility; else deviation path | Titan | Runtime |
| TITAN-CI-VI02 | VI.2 | CI | VETO-HARD | Deviations visible + attributable | Deviation flags include actor identity + justification | Titan | CI |
| TITAN-CI-VII01 | VII.1 | CI | VETO-HARD | Rules must be registered in semantic layer | Semantic registry entry required for rule changes | Titan | CI |
| TITAN-LINT-VII02 | VII.2 | LINT | VETO-SOFT | Prefer semantic change over UI rewrite | UI-only change requires justification; semantic path preferred | AXIS + Titan | PR/Commit |
| TITAN-LINT-VIII | VIII | LINT | VETO-SOFT | Prevent constitutional text contamination | Text scan: no tech/vendor/perf/UI framework terms | Titan | PR/Commit |
| TITAN-CI-IX01 | IX.1 | CI | VETO-HARD | Constitution edits require Amendment ID | PR touching constitutional paths must reference Amendment ID | Titan | CI |
| TITAN-CI-IX02 | IX.2 | CI | VETO-HARD | No clause rewriting; additive-only | Diff classifier blocks edits to existing clause blocks | Titan | CI |

---

## 2. Gate Output Record (Ledger-Ready Contract)

Every gate MUST emit a standard record (for the Public Ledger per A-000):

**Required Fields**
- `timestamp`
- `gate_id`
- `clause_id`
- `severity`
- `verdict` (PASS / VETO_HARD / VETO_SOFT / WARN)
- `actor` (who triggered the run)
- `artifact_type` (PR / commit / build / deploy / runtime_request / audit_scan)
- `artifact_ref` (PR number, commit hash, build id, request id)
- `summary` (one sentence)
- `evidence_ref` (link/path to logs or report)

---

## 3. PR Template — Titan Conformance Checklist (Drop-In)

> Copy/paste into your PR template. This is designed to be human-reviewable and CI-verifiable.

### Titan Conformance Checklist (Required)

**Scope (select all that apply):**
- [ ] Constitution / Governance / Amendments text touched
- [ ] Workflow / Accounting logic changed
- [ ] Core write-path module changed (`accounting-core/`, `compliance-core/`, `audit-core/`)
- [ ] Semantic intent/rules changed
- [ ] Audit logging changed
- [ ] Compliance posture / deviation behavior changed

**Clause Impact Declaration (required):**
- Clauses impacted: `I.__, II.__, III.__, IV.__, V.__, VI.__, VII.__, VIII, IX.__`

**Evidence Links (required):**
- Spec/PRD link (if workflow/product change):
- Schema diff / migration link (if data truth changes):
- Logs or test report link (CI):

**Gate Acknowledgement (CI will validate):**
- [ ] I acknowledge that any gate VETO blocks merge/deploy.
- [ ] If a gate fails and the change is still desired, I will propose an Amendment per A-000.

---

## 4. CI Checklist Format (Machine-Readable)

This format is intended for CI to print and for humans to read. Each gate run should output the following section:

### Titan Gate Run Summary
- Target: `<PR/commit/build/deploy id>`
- Result: `PASS | VETO_HARD | VETO_SOFT | WARN`

#### Gate Results
- `[PASS] TITAN-CI-III01 (III.1) Atomic commit contract enforcement`
- `[VETO_HARD] TITAN-LINT-IV04 (IV.4) Boundary enforcement`
- `[WARN] TITAN-AUDIT-V02 (V.2) Audit completeness score`

#### Next Action (auto-generated)
- If VETO: show fix guidance OR link to Amendment proposal template.

---

## 5. Implementation Notes (Minimal, Non-Prescriptive)

- **LINT gates** should run locally and in CI (fast fail).
- **CI gates** should run on every PR push.
- **RUNTIME gates** must sit in the authoritative write path.
- **AUDIT gates** run post-deploy on a schedule and escalate WARN→VETO per Titan policy.

---

**End of Pack**

