---
title: handleWebSocketMessage
description: Handle WebSocket message

Validates message and processes it
category: reference
tags: [functions, api]
---

# handleWebSocketMessage

Handle WebSocket message

Validates message and processes it

## Parameters

### message

**Type**: `unknown`

**Required**

No description available


### userId

**Type**: `string`

**Required**

No description available



## Returns

`{ type: "proposal_updated"; proposalId: string; changes: Record<string, unknown>; timestamp: Date; } | { type: "comment_added"; proposalId: string; commentId: string; authorId: string; content: string; mentions: string[]; timestamp: Date; } | { type: "presence_update"; userId: string; status: import("C:/AI-BOS/mythic/node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/schemas").$InferEnumOutput<{ viewing: "viewing"; editing: "editing"; idle: "idle"; }>; timestamp: Date; proposalId?: string | undefined; } | { type: "approval_status_changed"; proposalId: string; status: import("C:/AI-BOS/mythic/node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/schemas").$InferEnumOutput<{ DRAFT: "DRAFT"; LISTENING: "LISTENING"; APPROVED: "APPROVED"; VETOED: "VETOED"; ARCHIVED: "ARCHIVED"; }>; timestamp: Date; approvedBy?: string | undefined; } | { type: "broadcast_created"; broadcastId: string; broadcast: { id: string; createdBy: string; type: import("C:/AI-BOS/mythic/node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/schemas").$InferEnumOutput<{ approval: "approval"; veto: "veto"; announcement: "announcement"; poll: "poll"; emergency: "emergency"; }>; title: string; message: string | null; audience: string; priority: import("C:/AI-BOS/mythic/node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/schemas").$InferEnumOutput<{ normal: "normal"; low: "low"; high: "high"; urgent: "urgent"; }>; }; timestamp: Date; } | { type: "broadcast_updated"; broadcastId: string; changes: Record<string, unknown>; timestamp: Date; } | { type: "broadcast_read"; broadcastId: string; userId: string; timestamp: Date; }`




